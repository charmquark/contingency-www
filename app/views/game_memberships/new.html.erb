<%- content_for :title do -%>New Game Membership | <%- end -%>
<%- content_for :body_class do -%>game_memberships-assoc-<%= @assoc_type.model_name.param_key %> <%- end -%>

<%= form_section title: 'New Game Membership' do %>
    <%= form_for(@game_membership,
            url: polymorphic_path([@assoc, GameMembership]),
            method: :post
        ) do |f|
    %>
        <div class="halfs-medium">
            <div class="field">
                <%= f.label :game_id %>
                <%- if @assoc_type == Game then -%>
                    <%= game_banner @assoc %>
                <%- else -%>
                    <%= games_select f, Game.without_member(@assoc) %>
                <%- end -%>
            </div>
            <div class="field">
                <%= f.label :member_id %>
                <%- if @assoc_type == Member then -%>
                    <%= member_avatar @assoc %>
                <%- else -%>
                    <%= members_select f, Member.without_game(@assoc) %>
                <%- end -%>
            </div>
        </div>
        <%= user_actions do -%>
            <%= f.submit 'Save' %>
            <%= f.button 'Reset', type: :reset %>
            <%= link_to 'Cancel', @assoc %>
        <%- end -%>
    <% end %>
<% end %>
