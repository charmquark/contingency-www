*,
*:before,
*:after {
    @include prefixer(box-sizing, border-box, moz webkit spec);
    
    @include prefixer(font-smoothing, antialiased, webkit);
    @include prefixer(osx-font-smoothing, auto, moz);
    font-smooth: always;
    
    @include prefixer(overflow-scrolling, touch, webkit);
    @include prefixer(transition-duration, 0.4s, moz o webkit);
    @include prefixer(transition-timing-function, linear, moz o webkit);
}

html,
body { @include size(100%); }

body {
    background-attachment: fixed;
    background-color: $black;
    background-image: url('/images/site-bg.jpg');
    background-position: bottom center;
    background-repeat: no-repeat;
    background-size: cover;
    color: $white-text;
    font-family: $font-lato;
    font-weight: normal;

    margin: 0px;
    
    .breakpoint-small & { font-size: 14px; }
    
    .breakpoint-medium & {
        font-size: 16px;
        
        padding-top: $header-height-medium * 2;
    }
    
    .breakpoint-large & { padding-top: 0px; }
}

a {
    color: $white-text;
    text-decoration: none;
    
    &.hover-hilite:hover { background: $link-hilite; }
}

h,
h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: $font-forum;
    font-weight: bold;
}

body > main {
    z-index: 100;
    
    .breakpoint-small & {
        background: rgba($bg-color, 0.2);
        
        padding: ($header-height-small * 2) 0px $pad-small 0px;
    }
}

p {
    margin-top: 1em;
    margin-bottom: 1em;
    
    &:first-child { margin-top: 0em; }
    &:last-child { margin-bottom: 0em; }
}

.actions {
    background: $bg-actions;
    text-align: center;

    margin: $pad-medium auto;
    padding: $pad-medium 0px;
    
    .button {
        margin-right: $pad-medium;
        
        &:last-child { margin-right: 0px; }
    }
    
    body > main > & { width: $content-width-medium; }
    
    .breakpoint-small & { display: none; }
    
    .breakpoint-large & {
        margin: $pad-large auto;
        padding: $pad-large 0px;
        
        .button { margin-right: $pad-large; }
    }
    
    .breakpoint-large body > main > & { width: $content-width-large; }
    
    .breakpoint-wide & {
        margin: $pad-wide auto;
        padding: $pad-wide 0px;
        
        .button { margin-right: $pad-wide; }
    }
    
    .breakpoint-wide body > main > & { width: $content-width-wide; }
}

.button {
    background: $bg-icon;
    border-width: 0px;
    color: $white-icon;
    font-family: $font-lato;
    font-weight: lighter;
    text-align: center;

    font-size: 20px;
    line-height: 1;
    
    position: relative;
    
    display: inline-block;
    
    &:hover {
        background: $link-hilite;
        color: $white-text;
    }
    
    .breakpoint-small & { padding: $pad-small; }
    
    .breakpoint-medium & { padding: $pad-medium; }
    
    .breakpoint-large & { padding: $pad-large ($pad-large / 2); }
    
    .breakpoint-wide & { padding: $pad-wide ($pad-wide / 2); }
}

.content-section {
    .breakpoint-small & {
        margin-bottom: $spacing-small;
        padding: $pad-small;
    }
    
    .breakpoint-medium & { margin-bottom: $spacing-medium; }
    
    .breakpoint-large & { margin-bottom: $spacing-large; }
    
    .breakpoint-wide & { margin-bottom: $spacing-wide; }
}

.content-section-body {
    @extend %content-centered;
    
    h2 {
        color: $white-secondary;
        
        margin: 0px 0px 1rem 0px;
    }
    
    .breakpoint-medium & {
        background: rgba($bg-color, 0.2);
        
        padding: $pad-medium;
    }
    
    .breakpoint-large & { padding: $pad-large; }
    
    .breakpoint-wide & { padding: $pad-wide; }
}

.top-bg {
    width: 100%;
    
    position: absolute;
    left: 0px;
    
    z-index: -1;
    
    .breakpoint-small & { top: $header-height-small; }
    
    .breakpoint-medium & { top: $header-height-medium; }
    
    .breakpoint-large & { top: 0px; }
}


#flash-section {
    .flash {
        max-width: $content-width-medium;
        
        margin: 0px auto 1em auto;
        padding: 1em;
        
        &:last-child { margin-bottom: 0px; }
    }

    .flash-alert {
        background: rgba($yellow-200, 0.6);
        color: $black-secondary;
    }
    
    .flash-error {
        background: rgba($red-200, 0.6);
        color: $black-secondary;
    }

    .flash-notice {
        background: rgba($indigo-200, 0.6);
        color: $black-secondary;
    }
    
    .breakpoint-small & {
        margin: $spacing-small auto;
        padding: $pad-small;
    }
    
    .breakpoint-medium & {
        margin: $spacing-medium auto;
        padding: $pad-medium;
    }
}


@import 'site/form';
@import 'site/footer';
@import 'site/header';
@import 'site/icons';
@import 'site/rows';
